{"version":3,"sources":["../src/components/PageBuilder.ts"],"sourcesContent":["import { PageBuilder } from '@mindfiredigital/page-builder-core/dist/PageBuilder.js';\n\nconsole.log('Web component script is running...');\nconsole.log('Attempting to import PageBuilder...');\n\nexport class PageBuilderComponent extends HTMLElement {\n  private pageBuilder!: PageBuilder;\n\n  constructor() {\n    super();\n\n    // Log the imported PageBuilder class for debugging\n    console.log('PageBuilder class:', PageBuilder);\n\n    // Check if PageBuilder is properly imported\n    if (!PageBuilder) {\n      console.error('❌ PageBuilder is undefined. Check your import.');\n      return;\n    }\n\n    // Initialize the PageBuilder instance\n    this.pageBuilder = new PageBuilder();\n\n    // Attach Shadow DOM\n    const shadow = this.attachShadow({ mode: 'open' });\n\n    // Set up inner HTML layout structure\n    shadow.innerHTML = `\n  <div id=\"app\">\n    <div id=\"sidebar\"></div>\n    <div id=\"canvas\" class=\"canvas\"></div>\n    <div id=\"customization\">\n      <h4 id=\"component-name\">Component: None</h4>\n      <div id=\"controls\"></div>\n      <div id=\"layers-view\" class=\"hidden\"></div>\n    </div>\n    <div id=\"notification\" class=\"notification hidden\"></div>\n    <div id=\"dialog\" class=\"dialog hidden\">\n      <div class=\"dialog-content\">\n        <p id=\"dialog-message\"></p>\n        <button id=\"dialog-yes\" class=\"dialog-btn\">Yes</button>\n        <button id=\"dialog-no\" class=\"dialog-btn\">No</button>\n      </div>\n    </div>\n  </div>\n`;\n  }\n\n  connectedCallback() {\n    console.log('✅ PageBuilderComponent connected to the DOM.');\n\n    // Initialize the PageBuilder instance after component is connected\n    setTimeout(() => {\n      if (\n        this.pageBuilder &&\n        typeof this.pageBuilder.setupInitialComponents === 'function'\n      ) {\n        this.pageBuilder.setupInitialComponents();\n        console.log('✅ PageBuilder initialized.');\n      } else {\n        console.error(\n          '❌ pageBuilder.setupInitialComponents() is missing or not a function.'\n        );\n      }\n    }, 0);\n  }\n\n  disconnectedCallback() {\n    // Cleanup when the component is removed from the DOM (if necessary)\n    console.log('❌ PageBuilderComponent disconnected from the DOM.');\n  }\n}\n\n// Register the custom element if it's not already registered\nif (!customElements.get('page-builder')) {\n  customElements.define('page-builder', PageBuilderComponent);\n  console.log('✅ Custom element \"page-builder\" registered.');\n} else {\n  console.warn('⚠️ \"page-builder\" is already defined.');\n}\n"],"mappings":";AAAA,SAAS,mBAAmB;AAE5B,QAAQ,IAAI,oCAAoC;AAChD,QAAQ,IAAI,qCAAqC;AAE1C,IAAM,uBAAN,cAAmC,YAAY;AAAA,EAGpD,cAAc;AACZ,UAAM;AAGN,YAAQ,IAAI,sBAAsB,WAAW;AAG7C,QAAI,CAAC,aAAa;AAChB,cAAQ,MAAM,qDAAgD;AAC9D;AAAA,IACF;AAGA,SAAK,cAAc,IAAI,YAAY;AAGnC,UAAM,SAAS,KAAK,aAAa,EAAE,MAAM,OAAO,CAAC;AAGjD,WAAO,YAAY;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAmBrB;AAAA,EAEA,oBAAoB;AAClB,YAAQ,IAAI,mDAA8C;AAG1D,eAAW,MAAM;AACf,UACE,KAAK,eACL,OAAO,KAAK,YAAY,2BAA2B,YACnD;AACA,aAAK,YAAY,uBAAuB;AACxC,gBAAQ,IAAI,iCAA4B;AAAA,MAC1C,OAAO;AACL,gBAAQ;AAAA,UACN;AAAA,QACF;AAAA,MACF;AAAA,IACF,GAAG,CAAC;AAAA,EACN;AAAA,EAEA,uBAAuB;AAErB,YAAQ,IAAI,wDAAmD;AAAA,EACjE;AACF;AAGA,IAAI,CAAC,eAAe,IAAI,cAAc,GAAG;AACvC,iBAAe,OAAO,gBAAgB,oBAAoB;AAC1D,UAAQ,IAAI,kDAA6C;AAC3D,OAAO;AACL,UAAQ,KAAK,iDAAuC;AACtD;","names":[]}