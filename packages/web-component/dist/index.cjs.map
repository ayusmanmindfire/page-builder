{"version":3,"sources":["../src/index.ts","../src/components/PageBuilder.ts"],"sourcesContent":["export * from './components/PageBuilder';\r\n","import { PageBuilder } from '@mindfiredigital/page-builder-core/dist/PageBuilder.js';\r\n\r\nexport class PageBuilderComponent extends HTMLElement {\r\n  private pageBuilder!: PageBuilder;\r\n  private initialized = false;\r\n\r\n  constructor() {\r\n    super();\r\n\r\n    // Set up inner HTML structure\r\n    this.innerHTML = `\r\n      <div id=\"app\">\r\n        <div id=\"sidebar\"></div>\r\n        <div id=\"canvas\" class=\"canvas\"></div>\r\n        <div id=\"customization\">\r\n          <h4 id=\"component-name\">Component: None</h4>\r\n          <div id=\"controls\"></div>\r\n          <div id=\"layers-view\" class=\"hidden\"></div>\r\n        </div>\r\n        <div id=\"notification\" class=\"notification hidden\"></div>\r\n        <div id=\"dialog\" class=\"dialog hidden\">\r\n          <div class=\"dialog-content\">\r\n            <p id=\"dialog-message\"></p>\r\n            <button id=\"dialog-yes\" class=\"dialog-btn\">Yes</button>\r\n            <button id=\"dialog-no\" class=\"dialog-btn\">No</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    `;\r\n  }\r\n\r\n  connectedCallback() {\r\n    if (this.initialized) return;\r\n\r\n    const appElement = this.querySelector('#app');\r\n    if (appElement) {\r\n      this.initializePageBuilder();\r\n      this.initialized = true;\r\n      return;\r\n    }\r\n    const observer = new MutationObserver((mutations, obs) => {\r\n      const appElement = this.querySelector('#app');\r\n      if (appElement) {\r\n        this.initializePageBuilder();\r\n        obs.disconnect();\r\n        this.initialized = true;\r\n      }\r\n    });\r\n    observer.observe(this, { childList: true, subtree: true });\r\n  }\r\n\r\n  private initializePageBuilder() {\r\n    try {\r\n      this.pageBuilder = new PageBuilder();\r\n\r\n      requestAnimationFrame(() => {\r\n        if (typeof this.pageBuilder.setupInitialComponents === 'function') {\r\n          this.pageBuilder.setupInitialComponents();\r\n        } else {\r\n          console.error('setupInitialComponents is not a function');\r\n        }\r\n      });\r\n    } catch (error) {\r\n      console.error('Failed to initialize PageBuilder:', error);\r\n    }\r\n  }\r\n\r\n  disconnectedCallback() {\r\n    this.initialized = false;\r\n  }\r\n}\r\n\r\n// Register the custom element\r\nif (!customElements.get('page-builder')) {\r\n  customElements.define('page-builder', PageBuilderComponent);\r\n}\r\n"],"mappings":";;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;;;ACAA,yBAA4B;AAErB,IAAM,uBAAN,cAAmC,YAAY;AAAA,EAIpD,cAAc;AACZ,UAAM;AAHR,SAAQ,cAAc;AAMpB,SAAK,YAAY;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAmBnB;AAAA,EAEA,oBAAoB;AAClB,QAAI,KAAK;AAAa;AAEtB,UAAM,aAAa,KAAK,cAAc,MAAM;AAC5C,QAAI,YAAY;AACd,WAAK,sBAAsB;AAC3B,WAAK,cAAc;AACnB;AAAA,IACF;AACA,UAAM,WAAW,IAAI,iBAAiB,CAAC,WAAW,QAAQ;AACxD,YAAMA,cAAa,KAAK,cAAc,MAAM;AAC5C,UAAIA,aAAY;AACd,aAAK,sBAAsB;AAC3B,YAAI,WAAW;AACf,aAAK,cAAc;AAAA,MACrB;AAAA,IACF,CAAC;AACD,aAAS,QAAQ,MAAM,EAAE,WAAW,MAAM,SAAS,KAAK,CAAC;AAAA,EAC3D;AAAA,EAEQ,wBAAwB;AAC9B,QAAI;AACF,WAAK,cAAc,IAAI,+BAAY;AAEnC,4BAAsB,MAAM;AAC1B,YAAI,OAAO,KAAK,YAAY,2BAA2B,YAAY;AACjE,eAAK,YAAY,uBAAuB;AAAA,QAC1C,OAAO;AACL,kBAAQ,MAAM,0CAA0C;AAAA,QAC1D;AAAA,MACF,CAAC;AAAA,IACH,SAAS,OAAP;AACA,cAAQ,MAAM,qCAAqC,KAAK;AAAA,IAC1D;AAAA,EACF;AAAA,EAEA,uBAAuB;AACrB,SAAK,cAAc;AAAA,EACrB;AACF;AAGA,IAAI,CAAC,eAAe,IAAI,cAAc,GAAG;AACvC,iBAAe,OAAO,gBAAgB,oBAAoB;AAC5D;","names":["appElement"]}