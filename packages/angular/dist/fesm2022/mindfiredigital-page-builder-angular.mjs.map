{"version":3,"file":"mindfiredigital-page-builder-angular.mjs","sources":["../../src/lib/page-builder-angular.component.ts","../../src/lib/page-builder-angular.module.ts","../../src/public-api.ts","../../src/mindfiredigital-page-builder-angular.ts"],"sourcesContent":["import {\r\n  Component,\r\n  OnInit,\r\n  OnDestroy,\r\n  ElementRef,\r\n  Input,\r\n  AfterViewInit,\r\n} from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { PageBuilder } from '@mindfiredigital/page-builder-core/dist/PageBuilder.js';\r\nimport { CustomStyles } from './models/custom-styles.interface';\r\n\r\n@Component({\r\n  selector: 'mf-page-builder',\r\n  standalone: true,\r\n  imports: [CommonModule],\r\n  template: ` <div #wrapper [ngStyle]=\"getWrapperStyles()\"></div> `,\r\n  styleUrls: ['./styles/styles.scss'],\r\n})\r\nexport class PageBuilderComponent implements OnInit, OnDestroy, AfterViewInit {\r\n  @Input() onInitialize?: (pageBuilder: PageBuilder) => void;\r\n  @Input() customStyles: CustomStyles = {};\r\n\r\n  private pageBuilder: PageBuilder | null = null;\r\n\r\n  constructor(private elementRef: ElementRef) {}\r\n\r\n  ngOnInit(): void {\r\n    // Initial setup if needed\r\n  }\r\n\r\n  ngAfterViewInit(): void {\r\n    this.setupPageBuilder();\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.pageBuilder = null;\r\n  }\r\n\r\n  public getWrapperStyles() {\r\n    return {\r\n      margin: 'auto',\r\n      width: '100%',\r\n      height: '100%',\r\n      ...this.customStyles.wrapper,\r\n    };\r\n  }\r\n\r\n  private setupDOMStructure(): void {\r\n    const wrapper = this.elementRef.nativeElement.querySelector('div');\r\n    if (!wrapper) return;\r\n\r\n    // Clear existing content\r\n    wrapper.innerHTML = '';\r\n\r\n    // Create the main app container\r\n    const appDiv = document.createElement('div');\r\n    appDiv.id = 'app';\r\n\r\n    // Create required inner elements\r\n    appDiv.innerHTML = `\r\n      <div id=\"sidebar\"></div>\r\n      <div id=\"canvas\" class=\"canvas\"></div>\r\n      <div id=\"customization\">\r\n        <h4 id=\"component-name\">Component: None</h4>\r\n        <div id=\"controls\"></div>\r\n        <div id=\"layers-view\" class=\"hidden\"></div>\r\n      </div>\r\n      <div id=\"notification\" class=\"notification hidden\"></div>\r\n      <div id=\"dialog\" class=\"dialog hidden\">\r\n        <div class=\"dialog-content\">\r\n          <p id=\"dialog-message\"></p>\r\n          <button id=\"dialog-yes\" class=\"dialog-btn\">Yes</button>\r\n          <button id=\"dialog-no\" class=\"dialog-btn\">No</button>\r\n        </div>\r\n      </div>\r\n    `;\r\n\r\n    wrapper.appendChild(appDiv);\r\n  }\r\n\r\n  private setupPageBuilder(): void {\r\n    try {\r\n      if (!this.pageBuilder) {\r\n        this.setupDOMStructure();\r\n\r\n        // Create new PageBuilder instance\r\n        const pageBuilder = new PageBuilder();\r\n        this.pageBuilder = pageBuilder;\r\n\r\n        if (this.onInitialize) {\r\n          this.onInitialize(pageBuilder);\r\n        }\r\n\r\n        // Trigger DOMContentLoaded to initialize PageBuilder\r\n        const event = new Event('DOMContentLoaded');\r\n        document.dispatchEvent(event);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error initializing PageBuilder:', error);\r\n    }\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { PageBuilderComponent } from './page-builder-angular.component';\r\n\r\n@NgModule({\r\n  imports: [PageBuilderComponent],\r\n  exports: [PageBuilderComponent],\r\n})\r\nexport class PageBuilderModule {}\r\n","export * from './lib/page-builder-angular.component';\r\nexport * from './lib/page-builder-angular.module';\r\nexport const PAGE_BUILDER_STYLES = './lib/styles/_styles.scss';\r\nexport * from './lib/models/custom-styles.interface';\r\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":[],"mappings":"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"}